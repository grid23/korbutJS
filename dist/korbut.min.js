/* Copyright Â©2014 Benjamin Moulin <hello@grid23.net>
   This work is free. You can redistribute it and/or modify it under the 
   terms of the Do What The Fuck You Want To Public License, Version 2, 
   as published by Sam Hocevar. See the COPYING file for more details. 
*/

!function a(b,c,d){function e(f,h){var i,j;if(!c[f]){if(!b[f]){if(i="function"==typeof require&&require,!h&&i)return i(f,!0);if(g)return g(f,!0);throw new Error("Cannot find module '"+f+"'")}j=c[f]={exports:{}},b[f][0].call(j.exports,function(a){var c=b[f][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[f].exports}var f,g="function"==typeof require&&require;for(f=0;f<d.length;f++)e(d[f]);return e}({1:[function(a,b){void function(a,c){"use strict";b.exports.Event=c(function(){return{constructor:function(){b.exports.Event.prototype.initEvent.apply(this,arguments)},initEvent:{value:function(){var b=a.spread(arguments),c=b[b.length-1]&&b[b.length-1].constructor===Object?b.pop():{},d=void 0!==this.detail&&void 0!==c.detail&&null!==c.detail?c.detail:null,e=this.type||"string"!=a.typeof(b[0])?this.type?null:"error":b.shift();this.type||Object.defineProperty(this,"_type",{value:e}),void 0!==this.detail&&Object.defineProperty(this,"_detail",{value:d}),Object.defineProperty(this,"_timestamp",{value:+new Date})}},type:{enumerable:!0,get:function(){return this._type}},timestamp:{enumerable:!0,get:function(){return this._timestamp||0}},detail:{enumerable:!0,get:function(){return this._detail}}}})}(a("./utils"),a("./class").class)},{"./class":4,"./utils":6}],2:[function(a,b){void function(a,c,d){"use strict";b.exports.EventTarget=c(function(){function b(a){return a&&"function"==typeof a||"function"==typeof a.handleEvent}return{addEventListener:{enumerable:!0,value:function(){this._events=this._events||Object.defineProperty(this,"_events",{value:Object.create(null)})._events;var c,d,e;return 1==arguments.length&&arguments[0].constructor===Object?function(a,b,c){for(c in b)b.hasOwnProperty(c)&&a.addEventListener(c,b[c])}(this,arguments[0]):(c="string"==a.typeof(arguments[0])?arguments[0]:null,d=b(arguments[1])?arguments[1]:null,e=this._events[c],c&&d?(Array.isArray(e)?e.push(d):e&&e!==Object.prototype[c]?b(e)&&(this._events[c]=[e,d]):this._events[c]=d,1):0)}},removeEventListener:{enumerable:!0,value:function(){this._events=this._events||Object.defineProperty(this,"_events",{value:[]})._events;var c,d,e;return 1==arguments.length&&arguments[0].constructor===Object?function(a,b,c){for(c in b)b.hasOwnProperty(c)&&a.removeEventListener(c,b[c])}(this,arguments[0]):(c="string"==a.typeof(arguments[0])?arguments[0]:null,d=b(arguments[1])||"*"==arguments[1]?arguments[1]:null,e=this._events[c],c&&d&&e?e===d?(delete this._events[c],1):Array.isArray(e)?function(a,b,f,g){if("*"===d)return g=e.length,delete a._events[c],g;for(g=0;f=b.indexOf(d)>-1;)b.splice(f,1),g++;return a._events[c]=b,0==a._events[c].length&&delete a._events[c],g}(this,[].concat(e)):void 0:0)}},getEventlisteners:{enumerable:!0,value:function(){var a=(this._events||Object.create(null))[arguments[0]];return Array.isArray(a)?[].concat(a):a?[a]:[]}},dispatchEvent:{enumerable:!0,value:function(){var b=d.isImplementedBy(arguments[0])?arguments[0]:d.create.apply(null,arguments),c=(this._events||{})[b.type],e=0;if("error"==b.type&&!c)throw b.detail.object||b.detail[0]||new Error(b.detail.message);return c&&("function"==a.typeof(c)?(c.call(null,b),e++):"function"==a.typeof(c.handleEvent)?(c.call(c,b),e++):Array.isArray(c)&&void function(c){for(;c.length;)"function"==a.typeof(c[i])?(c[i].call(null,b),e++):"function"==a.typeof(c.handleEvent)&&(c[i].call(c,b),e++)}([].concat(c))),e}}}})}(a("./utils"),a("./class").class,a("./Event").Event)},{"./Event":1,"./class":4,"./utils":6}],3:[function(a,b){void function(a){"use strict";b.exports.Iterator=a(function(a){return a.iterate=function(){var a,b,c,d,e,f=arguments[0]||Object.create(null);try{return Object.keys(f)}catch(g){if(a=[],"[object String]"==Object.prototype.toString.call(f))for(b=0,c=f.length;c>b;b++)d=f.charCodeAt(b),e=f.charCodeAt(c-1>b?b+1:""),a.push(d>=55296&&56319>=d&&e>=56320&&57343>=e?f[b]+f[++b]:f[b]);return a}},{constructor:function(){b.exports.Iterator.prototype.initIterator.apply(this,arguments)},initIterator:{value:function(){var b=!!arguments[1]||"[object String]"==Object.prototype.toString.call(arguments[0]),c=a.iterate(arguments[0]),d=0,e=c.length;for(Object.defineProperties(this,{_pointer:{writable:!0,value:-1},_range:{value:[]}});e>d;d++)this._range[d]=b?[c[d]]:[c[d],arguments[0][c[d]]]}},next:{enumerable:!0,value:function(){var a=++this._pointer;return a>=(this._range=this._range||[]).length?{index:null,value:null,done:!0}:{index:a,value:this._range[a][this._range[a].length-1],done:!1}}}}})}(a("./class").class)},{"./class":4}],4:[function(a,b){void function(a){"use strict";b.exports.class=function(){var c,d,e=a.spread(arguments),f=Object.create(null),g=Object.create({});for(e[e.length-1]=function h(b,c){if("function"==a.typeof(b))return h(b.call(null,f));b.constructor=b.hasOwnProperty("constructor")?b.constructor:function(){},d="function"!=a.typeof(b.constructor)||a.native(b.constructor)?"function"!=a.typeof(b.constructor.value)||a.native(b.constructor.value)?function(){}:b.constructor.value:b.constructor,delete b.constructor;try{return{prototype:Object.create(null,b)}}catch(e){for(c=Object.keys(b);c.length;)void function(a){b[a]=b[a].constructor==Object&&(b[a].hasOwnProperty("value")||b[a].hasOwnProperty("get")||b[a].hasOwnProperty("set"))?b[a]:{configurable:!0,enumerable:!0,writable:!0,value:b[a]}}(c.shift());return{prototype:Object.create(null,b)}}}(e[e.length-1]);e.length;)void function(a,b){try{b=Object.getOwnPropertyNames(a.prototype)}catch(c){b=[]}for(;b.length;)void function(a,b){Object.defineProperty(g,a,b)}(b[0],Object.getOwnPropertyDescriptor(a.prototype,b.shift()))}(e.shift());Object.defineProperty(g,"constructor",{configurable:!0,value:d}),d.prototype=g;for(c in f)d[c]=f[c];return d.create=function(){function b(){return d.apply(this,e)}a.spread(arguments);return b.prototype=d.prototype,new b},d.extend=function(){return b.exports.class.apply(null,[d].concat(a.spread(arguments)))},d.isImplementedBy=function(){var b,c="function"==a.typeof(arguments[0])?arguments[0].prototype:Object.create(null);if(!o)return!1;if(o instanceof d)return!0;for(b in d.prototype)if("contstructor"!=b&&Object.getOwnPropertyDescriptor(c,b).value!=Object.getOwnPropertyDescriptor(d.prototype,b).value)return!1;return!0},d.implementsOn=function(){for(var b="function"==!a.typeof(arguments[0])?arguments[0].prototype:{},c=Object.getOwnPropertyNames(d.prototype);c.length;)Object.defineProperty(b,c[0],Object.getOwnPropertyDescriptor(d.prototype,c.shift()))},d},b.exports.singleton=function(){var a=b.exports.class.apply(null,arguments),c=b.exports.class.call(null,a,function(b,d){for(d in a)b[d]=a[d];return{constructor:function(){return c.instance?c.instance:(c.instance=this,a.apply(this,arguments))}}})}}(a("./utils"))},{"./utils":6}],5:[function(a){void function(b){"use strict";b.class=a("./class").class,b.singleton=a("./class").singleton,b.Iterator=a("./Iterator").Iterator,b.EventTarget=a("./EventTarget").EventTarget,b.Event=a("./Event").Event,window.k=b}({version:"korbutJS-ES5-0.0.0-1395332472090"})},{"./Event":1,"./EventTarget":2,"./Iterator":3,"./class":4}],6:[function(a,b){void function(){"use strict";b.exports.native=function(a){return function(b){try{return"function"==typeof b?!!b.toString().match(a):!1}catch(c){return null}}}(/\s*\[native code\]\s*/i),b.exports.spread=function(a){return function(b,c){return a.call(b,c)}}(Array.prototype.slice),b.exports.typeof=function(a){return function(b){var c=typeof b;return"object"!=typeof b?a.call(b).slice(8,-1).toLowerCase():c}}(Object.prototype.toString)}()},{}]},{},[5]);